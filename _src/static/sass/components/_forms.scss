// ------------------------------
// edX Pattern Library: Components - Forms

// About: Contains base styling for forms

// #GLOBAL
// #INPUT TEXT
// #INPUT RADIO/CHECKBOX
// #SELECT
// #TEXTAREA

// ----------------------------
// #GLOBAL
// ----------------------------
.form {
    display: inline-block;
}

.field-group {
    @include clearfix;
    margin-bottom: spacing-vertical(base); // do we want to put default spacing between fields?

    .helper-text { // do we want to ensure markup structure by nesting?
        display: block;
        margin-top: spacing-vertical(x-small);
        font-size: font-size(small);
        color: palette(grayscale-cool, dark);
    }
}

.form-label {
    display: block;
    margin-bottom: spacing-vertical(x-small);
}

.input,
.select,
.textarea {
    @include transition(
        color timing(xx-fast) ease-in-out 0s,
        border-color timing(xx-fast) ease-in-out 0s
    );
    display: inline-block;
    min-width: ($baseline*20) + px; // for the purposes of the demo... can probably get moved elsewhere...
    padding: ($baseline/2) + px;
    border: 1px solid palette(grayscale-cool, x-light);
    background: palette(grayscale, white);
    font-family: $text-base-font-family;
    font-size: font-size(base);
    color: palette(grayscale-cool, base);

    &:focus {
        outline: none;
    }
}

// ----------------------------
// #INPUT TEXT
// ----------------------------
.input-text {

    &:focus,
    &.is-active {
        border-color: palette(primary, base);
        color: palette(grayscale, dark);
    }

    &:disabled,
    &.is-disabled {
        border-color: palette(grayscale, light);
        background: palette(grayscale, x-light);
    }

    &.input-simple {
        padding: ($baseline/2) + px 0;
        border-width: 0 0 2px 0;

        &:focus,
        &.is-active {
            border-color: palette(grayscale, dark);
        }
    }
}

// ----------------------------
// #SELECT
// ----------------------------
// We hide default select menus and replace them with something that looks nicer.
.select-replaced {
    position: relative; // we'll need to position the menu absolutely
    width: ($baseline*20) + px; // do we want to define this here?

    .input-text {
        color: palette(grayscale, dark);
        // how wide do we want the 'select' menu to be?
        
        &:hover,
        &:focus {
            cursor: pointer;
        }

        &:disabled,
        &.is-disabled {
            cursor: default;
        }
    }

    .select-replaced-menu {
        @extend %reset-lists;
        @extend %list-unstyled;
        position: absolute;
        display: inline-block;
        top: spacing-vertical(base);
        left: 0; // RTL later
        width: 100%;
        border: 1px solid palette(primary, base);
        background: palette(grayscale, white);
        box-shadow: 0 1px 3px $shadow;

        &:focus {
            outline: none;
        }

        .select-option {
            display: block;
            padding: ($baseline/2) + px;

            &:hover,
            &:focus {
                background: palette(primary, base);
                color: palette(grayscale, white);
                cursor: pointer;
            }

            &.is-active {
                background: palette(grayscale-cool, xx-trans);

                &:hover,
                &:focus {
                    background: palette(grayscale-cool, xx-trans);
                    color: palette(grayscale, dark);
                    cursor: default;
                }
            }
        }
    }

    .button-select-replaced {
        position: absolute;
        top: ($baseline/2) + px;
        right: ($baseline/2) + px;
        background: $transparent;
        border: none;

        svg {
            height: ($baseline/2) + px;
            width: ($baseline/2) + px;
            fill: palette(grayscale-cool, light);
        }

        &:hover,
        &:focus {

            svg {
                fill: $link-color;
            }
        }
    }
}